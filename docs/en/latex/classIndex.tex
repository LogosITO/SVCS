\doxysection{Index Class Reference}
\hypertarget{classIndex}{}\label{classIndex}\index{Index@{Index}}


Manages the Staging Area (\doxylink{classIndex}{Index}) of the VCS repository.  




{\ttfamily \#include $<$Index.\+hxx$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classIndex_acd98d16f365494515679d1f643a2c8c7}{Index}} (const fs\+::path \&vcs\+\_\+root\+\_\+path, fs\+::path repo\+\_\+root\+\_\+path, \mbox{\hyperlink{classObjectStorage}{Object\+Storage}} \&storage)
\begin{DoxyCompactList}\small\item\em Constructs the \doxylink{classIndex}{Index} manager, setting up paths and loading the index. \end{DoxyCompactList}\item 
\Hypertarget{classIndex_a76b7ed4e9cb0b1540264567f84896032}\label{classIndex_a76b7ed4e9cb0b1540264567f84896032} 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Index} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classIndex_aad567874a307f72668d79ffe867c4de2}{add\+Entry}} (const \mbox{\hyperlink{structIndexEntry}{Index\+Entry}} \&entry)
\begin{DoxyCompactList}\small\item\em Adds or updates an entry in the staging area. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{structIndexEntry}{Index\+Entry}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classIndex_acb9b498b11708bbf4394dbf485bcc6b4}{get\+Entry}} (const fs\+::path \&file\+\_\+path) const
\begin{DoxyCompactList}\small\item\em Retrieves an entry from the index by its relative file path. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classIndex_a78085a2aae66dd69d50ded6d856462c6}{load}} ()
\begin{DoxyCompactList}\small\item\em Loads the index entries from the index file on disk (temporary text format). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classIndex_a4c99f86d04fd91dc90727b9a17e60a21}{save}} () const
\begin{DoxyCompactList}\small\item\em Saves the current state of the index entries to the index file (temporary text format). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classIndex_a5e6110ea25938b15f6cfa774c3096451}{write}} () const
\begin{DoxyCompactList}\small\item\em Another saving function (like load) but returns bool. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classIndex_ae12163a4349daa632044ff28c2818125}{is\+File\+Modified}} (const fs\+::path \&file\+\_\+path) const
\begin{DoxyCompactList}\small\item\em Checks if a file in the working directory has been modified since it was last staged. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classIndex_a37a1115070ac00586a9b69cf9c26b115}{stage\+\_\+file}} (const fs\+::path \&relative\+\_\+path)
\begin{DoxyCompactList}\small\item\em Stages a file by creating a \doxylink{classBlob}{Blob} object, saving it to storage, and updating the \doxylink{classIndex}{Index} entry (Core logic of \textquotesingle{}svcs add\textquotesingle{}). \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classIndex_ad10592c0ea7291c0a8b2d8b593b21a85}{create\+Tree\+Object}} ()
\begin{DoxyCompactList}\small\item\em Creates the hierarchical \doxylink{classTree}{Tree} structure based on the current staged entries and saves the \doxylink{classTree}{Tree} objects to \doxylink{classObjectStorage}{Object\+Storage}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the Staging Area (\doxylink{classIndex}{Index}) of the VCS repository. 

The \doxylink{classIndex}{Index} class is responsible for reading and writing the list of staged files to the index file (.svcs/index), managing the \textquotesingle{}svcs add\textquotesingle{} operation, and providing the necessary structure for commit creation. 

\label{doc-constructors}
\Hypertarget{classIndex_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classIndex_acd98d16f365494515679d1f643a2c8c7}\index{Index@{Index}!Index@{Index}}
\index{Index@{Index}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{Index()}{Index()}}
{\footnotesize\ttfamily \label{classIndex_acd98d16f365494515679d1f643a2c8c7} 
Index\+::\+Index (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{vcs\+\_\+root\+\_\+path}{, }\item[{fs\+::path}]{repo\+\_\+root\+\_\+path}{, }\item[{\mbox{\hyperlink{classObjectStorage}{Object\+Storage}} \&}]{storage}{}\end{DoxyParamCaption})}



Constructs the \doxylink{classIndex}{Index} manager, setting up paths and loading the index. 


\begin{DoxyParams}{Parameters}
{\em vcs\+\_\+root\+\_\+path} & The path to the VCS control directory (e.\+g., .svcs). \\
\hline
{\em repo\+\_\+root\+\_\+path} & The path to the repository\textquotesingle{}s working directory root. \\
\hline
{\em storage} & Reference to the \doxylink{classObjectStorage}{Object\+Storage} instance. \\
\hline
\end{DoxyParams}


\label{doc-func-members}
\Hypertarget{classIndex_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classIndex_aad567874a307f72668d79ffe867c4de2}\index{Index@{Index}!addEntry@{addEntry}}
\index{addEntry@{addEntry}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{addEntry()}{addEntry()}}
{\footnotesize\ttfamily \label{classIndex_aad567874a307f72668d79ffe867c4de2} 
void Index\+::add\+Entry (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structIndexEntry}{Index\+Entry}} \&}]{entry}{}\end{DoxyParamCaption})}



Adds or updates an entry in the staging area. 


\begin{DoxyParams}{Parameters}
{\em entry} & The \doxylink{structIndexEntry}{Index\+Entry} object to be added or updated. \\
\hline
\end{DoxyParams}
\Hypertarget{classIndex_ad10592c0ea7291c0a8b2d8b593b21a85}\index{Index@{Index}!createTreeObject@{createTreeObject}}
\index{createTreeObject@{createTreeObject}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{createTreeObject()}{createTreeObject()}}
{\footnotesize\ttfamily \label{classIndex_ad10592c0ea7291c0a8b2d8b593b21a85} 
std\+::string Index\+::create\+Tree\+Object (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Creates the hierarchical \doxylink{classTree}{Tree} structure based on the current staged entries and saves the \doxylink{classTree}{Tree} objects to \doxylink{classObjectStorage}{Object\+Storage}. 

\begin{DoxyReturn}{Returns}
The SHA-\/1 hash (ID) of the final root \doxylink{classTree}{Tree} object. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If the index is empty or tree creation fails. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classIndex_acb9b498b11708bbf4394dbf485bcc6b4}\index{Index@{Index}!getEntry@{getEntry}}
\index{getEntry@{getEntry}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{getEntry()}{getEntry()}}
{\footnotesize\ttfamily \label{classIndex_acb9b498b11708bbf4394dbf485bcc6b4} 
const \mbox{\hyperlink{structIndexEntry}{Index\+Entry}} \texorpdfstring{$\ast$}{*} Index\+::get\+Entry (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{file\+\_\+path}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Retrieves an entry from the index by its relative file path. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+path} & The relative path of the file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the constant \doxylink{structIndexEntry}{Index\+Entry}, or nullptr if not found. 
\end{DoxyReturn}
\Hypertarget{classIndex_ae12163a4349daa632044ff28c2818125}\index{Index@{Index}!isFileModified@{isFileModified}}
\index{isFileModified@{isFileModified}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{isFileModified()}{isFileModified()}}
{\footnotesize\ttfamily \label{classIndex_ae12163a4349daa632044ff28c2818125} 
bool Index\+::is\+File\+Modified (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{file\+\_\+path}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Checks if a file in the working directory has been modified since it was last staged. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+path} & The relative path of the file to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If the file is modified, deleted, or untracked; false otherwise. 
\end{DoxyReturn}
\Hypertarget{classIndex_a78085a2aae66dd69d50ded6d856462c6}\index{Index@{Index}!load@{load}}
\index{load@{load}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily \label{classIndex_a78085a2aae66dd69d50ded6d856462c6} 
void Index\+::load (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Loads the index entries from the index file on disk (temporary text format). 


\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If the index file cannot be read. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classIndex_a4c99f86d04fd91dc90727b9a17e60a21}\index{Index@{Index}!save@{save}}
\index{save@{save}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily \label{classIndex_a4c99f86d04fd91dc90727b9a17e60a21} 
void Index\+::save (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Saves the current state of the index entries to the index file (temporary text format). 


\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If the index file cannot be written. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classIndex_a37a1115070ac00586a9b69cf9c26b115}\index{Index@{Index}!stage\_file@{stage\_file}}
\index{stage\_file@{stage\_file}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{stage\_file()}{stage\_file()}}
{\footnotesize\ttfamily \label{classIndex_a37a1115070ac00586a9b69cf9c26b115} 
void Index\+::stage\+\_\+file (\begin{DoxyParamCaption}\item[{const fs\+::path \&}]{relative\+\_\+path}{}\end{DoxyParamCaption})}



Stages a file by creating a \doxylink{classBlob}{Blob} object, saving it to storage, and updating the \doxylink{classIndex}{Index} entry (Core logic of \textquotesingle{}svcs add\textquotesingle{}). 


\begin{DoxyParams}{Parameters}
{\em relative\+\_\+path} & The path to the file, relative to the repository\textquotesingle{}s root directory. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If the path is invalid or if read/write operations fail. \\
\hline
\end{DoxyExceptions}
\Hypertarget{classIndex_a5e6110ea25938b15f6cfa774c3096451}\index{Index@{Index}!write@{write}}
\index{write@{write}!Index@{Index}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily \label{classIndex_a5e6110ea25938b15f6cfa774c3096451} 
bool Index\+::write (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Another saving function (like load) but returns bool. 


\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If the index file cannot be written. \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/include/\mbox{\hyperlink{Index_8hxx}{Index.\+hxx}}\item 
core/src/\mbox{\hyperlink{Index_8cxx}{Index.\+cxx}}\end{DoxyCompactItemize}
