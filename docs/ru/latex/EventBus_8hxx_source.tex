\doxysection{Event\+Bus.\+hxx}
\hypertarget{EventBus_8hxx_source}{}\label{EventBus_8hxx_source}\index{services/EventBus.hxx@{services/EventBus.hxx}}
\mbox{\hyperlink{EventBus_8hxx}{–°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Event_8hxx}{Event.hxx}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{IObserver_8hxx}{IObserver.hxx}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ISubject_8hxx}{ISubject.hxx}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesvcs_1_1services}{svcs::services}}\ \{}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceConsoleColor}{ConsoleColor}}\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ RESET\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[0m"{}};}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BLACK\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[30m"{}};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ RED\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[31m"{}};}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ GREEN\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[32m"{}};}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ YELLOW\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[33m"{}};}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BLUE\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[34m"{}};}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ MAGENTA\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[35m"{}};}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ CYAN\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[36m"{}};}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ WHITE\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[37m"{}};}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_RED\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[91m"{}};}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_GREEN\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[92m"{}};}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_YELLOW\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[93m"{}};}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_BLUE\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[94m"{}};}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_MAGENTA\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[95m"{}};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_CYAN\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[96m"{}};}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BRIGHT\_WHITE\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[97m"{}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ BOLD\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[1m"{}};}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ DIM\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[2m"{}};}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ ITALIC\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[3m"{}};}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ UNDERLINE\ =\ \textcolor{stringliteral}{"{}\(\backslash\)033[4m"{}};}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00094\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsvcs_1_1services_1_1EventBus}{EventBus}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classsvcs_1_1services_1_1ISubject}{ISubject}},\ \textcolor{keyword}{public}\ std::enable\_shared\_from\_this<EventBus>\ \{}
\DoxyCodeLine{00095\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00105\ \ \ \ \ std::vector<std::weak\_ptr<IObserver>>\ observers\_;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{mutable}\ std::mutex\ observers\_mutex\_;}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ getEventColor(\mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5}{Event::Type}}\ type)\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ad3a3dd10960f2ac488ce55bef8bc3d3e}{Event::REPOSITORY\_INIT\_SUCCESS}}:}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_GREEN;}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a796855262a01de65f012e6a40008caf7}{Event::SAVE\_SUCCESS}}:}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_GREEN;}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a767626e42cab6c4ba7facd03240206ca}{Event::ERROR\_MESSAGE}}:}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_RED;}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5abc467eceff5c70c06b45b97a12ce3796}{Event::WARNING\_MESSAGE}}:}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_YELLOW;}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a753e1e5a8c8a667cc6213648e4c73b85}{Event::GENERAL\_INFO}}:}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_CYAN;}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a431acb8f4fff64b97cd5a6e9a94b03df}{Event::DEBUG\_MESSAGE}}:}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_BLUE;}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ad865dd2df62e532ca9677696ff53ceaa}{Event::HELP\_MESSAGE}}:}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::GREEN;}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a66dbe3c5f1d82d65d8a96394d2dc869d}{Event::PROTOCOL\_START}}:}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_MAGENTA;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a325cd0faa0c70a3f3715fe2d4970e3ea}{Event::PROTOCOL\_SUCCESS}}:}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_GREEN;}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a60f872fca6be57904f4f82da1d1f0e5d}{Event::PROTOCOL\_ERROR}}:}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_RED;}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a11ffd766199ab9a36c79efd1bf18a5c6}{Event::NETWORK\_SEND}}:}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_CYAN;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5af74283bd78571e120281ea81e3987f41}{Event::NETWORK\_RECEIVE}}:}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_BLUE;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a4cfc298114c7f71206b90093f7b7c856}{Event::OBJECT\_TRANSFER}}:}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_YELLOW;}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a69c60096a45b6f55e93256de30bf3d00}{Event::REFERENCE\_UPDATE}}:}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_GREEN;}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ac5e067842a5f70e0556a437a4d3eed7c}{Event::NEGOTIATION\_PHASE}}:}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::BRIGHT\_MAGENTA;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ConsoleColor::WHITE;}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ getEventIcon(\mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5}{Event::Type}}\ type)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ad3a3dd10960f2ac488ce55bef8bc3d3e}{Event::REPOSITORY\_INIT\_SUCCESS}}:}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}‚úÖ"{}};}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a796855262a01de65f012e6a40008caf7}{Event::SAVE\_SUCCESS}}:}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üíæ"{}};}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a767626e42cab6c4ba7facd03240206ca}{Event::ERROR\_MESSAGE}}:}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}‚ùå"{}};}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5abc467eceff5c70c06b45b97a12ce3796}{Event::WARNING\_MESSAGE}}:}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}‚ö†Ô∏è\ "{}};}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a753e1e5a8c8a667cc6213648e4c73b85}{Event::GENERAL\_INFO}}:}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}‚ÑπÔ∏è\ "{}};}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a431acb8f4fff64b97cd5a6e9a94b03df}{Event::DEBUG\_MESSAGE}}:}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üêõ"{}};}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ad865dd2df62e532ca9677696ff53ceaa}{Event::HELP\_MESSAGE}}:}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üí°"{}};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a66dbe3c5f1d82d65d8a96394d2dc869d}{Event::PROTOCOL\_START}}:}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üöÄ"{}};}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a325cd0faa0c70a3f3715fe2d4970e3ea}{Event::PROTOCOL\_SUCCESS}}:}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}‚úÖ"{}};}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a60f872fca6be57904f4f82da1d1f0e5d}{Event::PROTOCOL\_ERROR}}:}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üí•"{}};}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a11ffd766199ab9a36c79efd1bf18a5c6}{Event::NETWORK\_SEND}}:}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üì§"{}};}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5af74283bd78571e120281ea81e3987f41}{Event::NETWORK\_RECEIVE}}:}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üì•"{}};}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a4cfc298114c7f71206b90093f7b7c856}{Event::OBJECT\_TRANSFER}}:}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üì¶"{}};}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a69c60096a45b6f55e93256de30bf3d00}{Event::REFERENCE\_UPDATE}}:}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}üîó"{}};}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5ac5e067842a5f70e0556a437a4d3eed7c}{Event::NEGOTIATION\_PHASE}}:}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ü§ù"{}};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{classsvcs_1_1services_1_1EventBus_a7dedabf652e6bc393538d4e2b207d535}{\string~EventBus}}()\ \textcolor{keyword}{override}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1services_1_1EventBus_a211117059f05ee5aa1f5256fc01df133}{attach}}(std::shared\_ptr<IObserver>\ observer)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ std::lock\_guard<std::mutex>\ lock(observers\_mutex\_);}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ observers\_.push\_back(observer);}
\DoxyCodeLine{00236\ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1services_1_1EventBus_acfdd0f85f33cd8e6436c75abc9e4657c}{detach}}(std::shared\_ptr<IObserver>\ observer\_to\_remove)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ std::lock\_guard<std::mutex>\ lock(observers\_mutex\_);}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ std::remove\_if(observers\_.begin(),\ observers\_.end(),}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\textcolor{keyword}{const}\ std::weak\_ptr<IObserver>\&\ weak\_obs)\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ auto\ shared\_obs\ =\ weak\_obs.lock();}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ shared\_obs\ \&\&\ (shared\_obs\ ==\ observer\_to\_remove);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ observers\_.erase(it,\ observers\_.end());}
\DoxyCodeLine{00259\ \ \ \ \ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1services_1_1EventBus_a7be954fe49754b80a57e0a7386744a15}{notify}}(\textcolor{keyword}{const}\ Event\&\ event)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ std::string\ color\ =\ getEventColor(event.type);}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ std::string\ icon\ =\ getEventIcon(event.type);}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ std::string\ sourceColor\ =\ ConsoleColor::DIM\ +\ ConsoleColor::BLACK;}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Format\ message\ with\ colors}}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ std::string\ formattedMessage\ =\ color\ +\ icon\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ \textcolor{keyword}{event}.details\ +}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sourceColor\ +\ \textcolor{stringliteral}{"{}\ ["{}}\ +\ \textcolor{keyword}{event}.source\_name\ +\ \textcolor{stringliteral}{"{}]"{}}\ +}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ConsoleColor::RESET;}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ event\ copy\ with\ formatted\ message}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ Event\ coloredEvent\ =\ event;}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ coloredEvent.\mbox{\hyperlink{structsvcs_1_1services_1_1Event_acb2891a12db8133cc18e781bacbbeab4}{details}}\ =\ formattedMessage;}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ observer\ :\ observers\_)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ observer.lock()-\/>update(coloredEvent);}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00291\ \ \ \ \ \}}
\DoxyCodeLine{00292\ \};}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \}}

\end{DoxyCode}
