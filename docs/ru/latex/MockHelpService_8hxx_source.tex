\doxysection{Mock\+Help\+Service.\+hxx}
\hypertarget{MockHelpService_8hxx_source}{}\label{MockHelpService_8hxx_source}\index{tests/cli/mocks/MockHelpService.hxx@{tests/cli/mocks/MockHelpService.hxx}}
\mbox{\hyperlink{MockHelpService_8hxx}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cli_2mocks_2MockSubject_8hxx}{MockSubject.hxx}}"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Event_8hxx}{../../../services/Event.hxx}}"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesvcs_1_1test_1_1cli_1_1mocks}{svcs::test::cli::mocks}}\ \{}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structsvcs_1_1services_1_1Event}{svcs::services::Event}};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_aea3d4e965231bcbd0192a21cafa727b5}{MockHelpService}}\ \{}
\DoxyCodeLine{00075\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00083\ \ \ \ \ std::vector<std::string>\ availableCommands\_;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00092\ \ \ \ \ std::map<std::string,\ std::string>\ commandDescriptions\_;}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00101\ \ \ \ \ std::set<std::string>\ calledCommandHelp\_;}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00110\ \ \ \ \ std::shared\_ptr<MockSubject>\ mockEventBus\_;}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{bool}\ wasGeneralHelpCalled\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_aea3d4e965231bcbd0192a21cafa727b5}{MockHelpService}}(\textcolor{keyword}{const}\ std::shared\_ptr<MockSubject>\&\ mockEventBus)}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ :\ mockEventBus\_(mockEventBus)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Mock\ Methods\ Matching\ HelpService\ Interface\ -\/-\/-\/}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00146\ \ \ \ \ [[nodiscard]]\ std::vector<std::string>\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a7937d3fd7e2a22e3e7302f272cdcd16e}{getAvailableCommands}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ availableCommands\_;}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00161\ \ \ \ \ [[nodiscard]]\ std::string\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a7ce43b5a6c833311b3eff06df2155384}{getCommandDescription}}(\textcolor{keyword}{const}\ std::string\&\ commandName)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ commandDescriptions\_.find(commandName);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ commandDescriptions\_.end())\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}No\ description\ available"{}};}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a56a8ccf6fe0827c935c6e3ee81972841}{showCommandHelp}}(\textcolor{keyword}{const}\ std::string\&\ commandName)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ calledCommandHelp\_.insert(commandName);}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mockEventBus\_)\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Создаем\ объект\ Event\ правильно\ -\/\ используем\ поле\ details}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsvcs_1_1services_1_1Event}{Event}}\ event;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.\mbox{\hyperlink{structsvcs_1_1services_1_1Event_ae80aa49e0553e08f27869fc37d240a1a}{type}}\ =\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a431acb8f4fff64b97cd5a6e9a94b03df}{Event::DEBUG\_MESSAGE}};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.details\ =\ \textcolor{stringliteral}{"{}MockHelpService:\ Showing\ help\ for\ "{}}\ +\ commandName;}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.source\_name\ =\ \textcolor{stringliteral}{"{}help"{}};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ mockEventBus\_-\/>notify(event);}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a73471ad850ff48bb09a3a68383519f75}{showGeneralHelp}}()\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ wasGeneralHelpCalled\_\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mockEventBus\_)\ \{}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Создаем\ объект\ Event\ правильно\ -\/\ используем\ поле\ details}}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsvcs_1_1services_1_1Event}{Event}}\ event;}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.\mbox{\hyperlink{structsvcs_1_1services_1_1Event_ae80aa49e0553e08f27869fc37d240a1a}{type}}\ =\ \mbox{\hyperlink{structsvcs_1_1services_1_1Event_a398a548bdd41d5e1f9820d74962700b5a431acb8f4fff64b97cd5a6e9a94b03df}{Event::DEBUG\_MESSAGE}};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.details\ =\ \textcolor{stringliteral}{"{}MockHelpService:\ Showing\ general\ help"{}};}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{event}.source\_name\ =\ \textcolor{stringliteral}{"{}help"{}};}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ mockEventBus\_-\/>notify(event);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00211\ \ \ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Test\ Control\ Methods\ -\/-\/-\/}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a29cfe1f86467c07e88b9c738af90b85d}{setAvailableCommands}}(\textcolor{keyword}{const}\ std::vector<std::string>\&\ commands)\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ availableCommands\_\ =\ commands;}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_aa0a2290e2ce38092aee0e996ff281336}{setCommandDescription}}(\textcolor{keyword}{const}\ std::string\&\ commandName,\ \textcolor{keyword}{const}\ std::string\&\ description)\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ commandDescriptions\_[commandName]\ =\ description;}
\DoxyCodeLine{00241\ \ \ \ \ \}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00254\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a1dc6236f99eefa3b1767c0f9e56cc576}{wasCommandHelpCalled}}(\textcolor{keyword}{const}\ std::string\&\ commandName)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ calledCommandHelp\_.find(commandName)\ !=\ calledCommandHelp\_.end();}
\DoxyCodeLine{00256\ \ \ \ \ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00267\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a1a28b542c50a9fd1b461cdd109bd2cdb}{wasGeneralHelpCalled}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ wasGeneralHelpCalled\_;}
\DoxyCodeLine{00269\ \ \ \ \ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsvcs_1_1test_1_1cli_1_1mocks_1_1MockHelpService_a1f5322cdafe2abd087e09f294d38f163}{clear}}()\ \{}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ calledCommandHelp\_.clear();}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ availableCommands\_.clear();}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ commandDescriptions\_.clear();}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ wasGeneralHelpCalled\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00283\ \ \ \ \ \}}
\DoxyCodeLine{00284\ \};}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \}\ \textcolor{comment}{//\ namespace\ svcs::test::cli::mocks}}

\end{DoxyCode}
