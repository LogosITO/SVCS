\doxysection{Класс Server}
\hypertarget{classServer}{}\label{classServer}\index{Server@{Server}}


Основной TCP-\/сервер для удаленных операций SVCS.  




{\ttfamily \#include $<$Server.\+hxx$>$}

\doxysubsubsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classServer_a5b86b125b0f108a4b108a3335d9aca1d}{Server}} (boost\+::asio\+::io\+\_\+context \&io\+\_\+context, unsigned short port, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classRepositoryManager}{Repository\+Manager}} $>$ repo\+\_\+manager, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classISubject}{ISubject}} $>$ event\+\_\+bus)
\begin{DoxyCompactList}\small\item\em Конструирует \doxylink{classServer}{Server} с указанными зависимостями. \end{DoxyCompactList}\item 
\Hypertarget{classServer_a4b3aa2579cb1c8cd1d069582c14d0fa6}\label{classServer_a4b3aa2579cb1c8cd1d069582c14d0fa6} 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Server} ()
\begin{DoxyCompactList}\small\item\em Деструктор -\/ останавливает сервер и освобождает ресурсы. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classServer_acec935535d1d5b58d95cf24678eac014}{start}} ()
\begin{DoxyCompactList}\small\item\em Запускает сервер и начинает принимать соединения. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classServer_a07c45a7e101a3926d8f9685c3c5d14e4}{stop}} ()
\begin{DoxyCompactList}\small\item\em Останавливает сервер корректно. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classServer_ad9c27dae78e9034d6bd718ea9e724bd4}{is\+Running}} () const
\begin{DoxyCompactList}\small\item\em Проверяет, запущен ли сервер в данный момент. \end{DoxyCompactList}\item 
unsigned short \mbox{\hyperlink{classServer_ab23ffb44df2151b7c9ff51fc07b60207}{get\+Port}} () const
\begin{DoxyCompactList}\small\item\em Получает номер порта, который прослушивает сервер. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classServer_a9676db9ad600cce926848e5299e1d55d}{get\+Active\+Connections}} () const
\begin{DoxyCompactList}\small\item\em Получает количество текущих активных клиентских соединений. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Подробное описание}
Основной TCP-\/сервер для удаленных операций SVCS. 

Прослушивает указанный порт, принимает клиентские соединения и запускает экземпляры \doxylink{classRemoteProtocol}{Remote\+Protocol} для обработки операций push/pull. Поддерживает несколько параллельных клиентов через пул потоков. 

\label{doc-constructors}
\Hypertarget{classServer_doc-constructors}
\doxysubsection{Конструктор(ы)}
\Hypertarget{classServer_a5b86b125b0f108a4b108a3335d9aca1d}\index{Server@{Server}!Server@{Server}}
\index{Server@{Server}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{Server()}{Server()}}
{\footnotesize\ttfamily \label{classServer_a5b86b125b0f108a4b108a3335d9aca1d} 
Server\+::\+Server (\begin{DoxyParamCaption}\item[{boost\+::asio\+::io\+\_\+context \&}]{io\+\_\+context}{, }\item[{unsigned short}]{port}{, }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classRepositoryManager}{Repository\+Manager}} $>$}]{repo\+\_\+manager}{, }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classISubject}{ISubject}} $>$}]{event\+\_\+bus}{}\end{DoxyParamCaption})}



Конструирует \doxylink{classServer}{Server} с указанными зависимостями. 


\begin{DoxyParams}{Аргументы}
{\em io\+\_\+context} & ASIO I/O контекст для асинхронных операций. \\
\hline
{\em port} & TCP-\/порт для прослушивания (по умолчанию\+: 9418 -\/ порт Git протокола). \\
\hline
{\em repo\+\_\+manager} & Общий указатель на менеджер репозиториев. \\
\hline
{\em event\+\_\+bus} & Общий указатель на шину событий для уведомлений. \\
\hline
\end{DoxyParams}


\label{doc-func-members}
\Hypertarget{classServer_doc-func-members}
\doxysubsection{Методы}
\Hypertarget{classServer_a9676db9ad600cce926848e5299e1d55d}\index{Server@{Server}!getActiveConnections@{getActiveConnections}}
\index{getActiveConnections@{getActiveConnections}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{getActiveConnections()}{getActiveConnections()}}
{\footnotesize\ttfamily \label{classServer_a9676db9ad600cce926848e5299e1d55d} 
size\+\_\+t Server\+::get\+Active\+Connections (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Получает количество текущих активных клиентских соединений. 

\begin{DoxyReturn}{Возвращает}
size\+\_\+t Количество активных соединений. 
\end{DoxyReturn}
\Hypertarget{classServer_ab23ffb44df2151b7c9ff51fc07b60207}\index{Server@{Server}!getPort@{getPort}}
\index{getPort@{getPort}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{getPort()}{getPort()}}
{\footnotesize\ttfamily \label{classServer_ab23ffb44df2151b7c9ff51fc07b60207} 
unsigned short Server\+::get\+Port (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Получает номер порта, который прослушивает сервер. 

\begin{DoxyReturn}{Возвращает}
unsigned short Номер порта. 
\end{DoxyReturn}
\Hypertarget{classServer_ad9c27dae78e9034d6bd718ea9e724bd4}\index{Server@{Server}!isRunning@{isRunning}}
\index{isRunning@{isRunning}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{isRunning()}{isRunning()}}
{\footnotesize\ttfamily \label{classServer_ad9c27dae78e9034d6bd718ea9e724bd4} 
bool Server\+::is\+Running (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Проверяет, запущен ли сервер в данный момент. 

\begin{DoxyReturn}{Возвращает}
bool True если сервер запущен, false в противном случае. 
\end{DoxyReturn}
\Hypertarget{classServer_acec935535d1d5b58d95cf24678eac014}\index{Server@{Server}!start@{start}}
\index{start@{start}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \label{classServer_acec935535d1d5b58d95cf24678eac014} 
bool Server\+::start (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Запускает сервер и начинает принимать соединения. 

\begin{DoxyReturn}{Возвращает}
bool True если сервер запущен успешно, false в противном случае. 
\end{DoxyReturn}
\Hypertarget{classServer_a07c45a7e101a3926d8f9685c3c5d14e4}\index{Server@{Server}!stop@{stop}}
\index{stop@{stop}!Server@{Server}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \label{classServer_a07c45a7e101a3926d8f9685c3c5d14e4} 
void Server\+::stop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Останавливает сервер корректно. 

Прекращает прием новых соединений и позволяет существующим соединениям завершиться. 

Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
server/include/\mbox{\hyperlink{Server_8hxx}{Server.\+hxx}}\item 
server/src/\mbox{\hyperlink{Server_8cxx}{Server.\+cxx}}\end{DoxyCompactItemize}
